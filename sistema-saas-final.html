<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartImóveis Pro - Sistema SaaS Imobiliário</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .property-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        .property-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .social-button {
            transition: all 0.2s ease;
        }
        .social-button:hover {
            transform: scale(1.1);
        }
        .floating-action {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        .testimonial-card {
            background: linear-gradient(145deg, #f0f0f0, #ffffff);
            box-shadow: 20px 20px 60px #d9d9d9, -20px -20px 60px #ffffff;
        }
        .stats-card {
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            box-shadow: 5px 5px 15px #d9d9d9, -5px -5px 15px #ffffff;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { createClient } = supabase;

        // Configuração do Supabase (usando dados mockados para demonstração)
            const supabaseUrl = 'https://demo.supabase.co';
            const supabaseKey = 'demo-key';
            
            // Mock do Supabase para demonstração
            const mockSupabase = {
                from: (table) => ({
                    select: () => Promise.resolve({ data: table === 'imoveis' ? mockProperties : mockLeads, error: null }),
                    insert: (data) => Promise.resolve({ data: [{ ...data, id: Date.now() }], error: null }),
                    update: (data) => Promise.resolve({ data: [data], error: null }),
                    delete: () => Promise.resolve({ data: [], error: null })
                }),
                auth: {
                    signInWithPassword: ({ email, password }) => {
                        // Usuário Master
                        if (email === 'master@demo.com' && password === 'master123') {
                            return Promise.resolve({ 
                                data: { user: { id: 'master1', email: 'master@demo.com', user_metadata: { tipo: 'master', nome: 'Admin Master' } } }, 
                                error: null 
                            });
                        }
                        // Usuário Admin/Corretor
                        if (email === 'admin@demo.com' && password === 'demo123') {
                            return Promise.resolve({ 
                                data: { user: { id: '1', email: 'admin@demo.com', user_metadata: { tipo: 'corretor', nome: 'João Silva' } } }, 
                                error: null 
                            });
                        }
                        // Corretor Carlos
                        if (email === 'carlos@realty.com' && password === 'carlos123') {
                            return Promise.resolve({ 
                                data: { user: { id: '2', email: 'carlos@realty.com', user_metadata: { tipo: 'corretor', nome: 'Carlos Santos' } } }, 
                                error: null 
                            });
                        }
                        return Promise.resolve({ data: null, error: { message: 'Credenciais inválidas' } });
                    },
                    signOut: () => Promise.resolve({ error: null }),
                    getUser: () => Promise.resolve({ data: { user: null }, error: null })
                }
            };
            
            const supabase = mockSupabase;

        // Serviços do Sistema
        const AuthService = {
            async login(email, password) {
                const { data, error } = await supabase.auth.signInWithPassword({ email, password });
                return { data, error };
            },
            async register(email, password, userData) {
                const { data, error } = await supabase.auth.signUp({ email, password });
                if (!error && data.user) {
                    await supabase.from('usuarios').insert([{
                        id: data.user.id,
                        email: email,
                        ...userData
                    }]);
                }
                return { data, error };
            },
            async logout() {
                return await supabase.auth.signOut();
            },
            async getCurrentUser() {
                const { data: { user } } = await supabase.auth.getUser();
                return user;
            }
        };

        const PropertyService = {
            async getAll(filters = {}) {
                let query = supabase.from('imoveis').select('*');
                if (filters.tipo) query = query.eq('tipo', filters.tipo);
                if (filters.cidade) query = query.eq('cidade', filters.cidade);
                if (filters.preco_min) query = query.gte('preco', filters.preco_min);
                if (filters.preco_max) query = query.lte('preco', filters.preco_max);
                const { data, error } = await query;
                return { data, error };
            },
            async getById(id) {
                const { data, error } = await supabase.from('imoveis').select('*').eq('id', id).single();
                return { data, error };
            },
            async create(property) {
                const { data, error } = await supabase.from('imoveis').insert([property]);
                return { data, error };
            },
            async update(id, updates) {
                const { data, error } = await supabase.from('imoveis').update(updates).eq('id', id);
                return { data, error };
            },
            async delete(id) {
                const { data, error } = await supabase.from('imoveis').delete().eq('id', id);
                return { data, error };
            },
            async incrementViews(id) {
                const { data, error } = await supabase.rpc('increment_views', { imovel_id: id });
                return { data, error };
            }
        };

        const LeadService = {
            async create(lead) {
                const { data, error } = await supabase.from('leads').insert([{
                    ...lead,
                    created_at: new Date().toISOString(),
                    status: 'novo'
                }]);
                return { data, error };
            },
            async getAll(corretorId = null) {
                let query = supabase.from('leads').select('*');
                if (corretorId) query = query.eq('corretor_id', corretorId);
                const { data, error } = await query.order('created_at', { ascending: false });
                return { data, error };
            },
            async updateStatus(id, status) {
                const { data, error } = await supabase.from('leads').update({ status }).eq('id', id);
                return { data, error };
            }
        };
        
        // Serviço para gerenciamento de corretores (Master)
        const CorretorService = {
            async getAll() {
                const { data, error } = await supabase.from('corretores').select('*, planos(nome)');
                return { data: data || mockCorretores, error };
            },
            async create(corretor) {
                const { data, error } = await supabase.from('corretores').insert([{
                    ...corretor,
                    created_at: new Date().toISOString(),
                    status: 'ativo'
                }]);
                return { data, error };
            },
            async update(id, updates) {
                const { data, error } = await supabase.from('corretores').update(updates).eq('id', id);
                return { data, error };
            },
            async delete(id) {
                const { data, error } = await supabase.from('corretores').delete().eq('id', id);
                return { data, error };
            },
            async updateStatus(id, status) {
                const { data, error } = await supabase.from('corretores').update({ status }).eq('id', id);
                return { data, error };
            }
        };
        
        // Serviço para gerenciamento de planos (Master)
        const PlanoService = {
            async getAll() {
                const { data, error } = await supabase.from('planos').select('*');
                return { data: data || mockPlanos, error };
            },
            async create(plano) {
                const { data, error } = await supabase.from('planos').insert([{
                    ...plano,
                    created_at: new Date().toISOString(),
                    ativo: true
                }]);
                return { data, error };
            },
            async update(id, updates) {
                const { data, error } = await supabase.from('planos').update(updates).eq('id', id);
                return { data, error };
            },
            async delete(id) {
                const { data, error } = await supabase.from('planos').delete().eq('id', id);
                return { data, error };
            },
            async toggleStatus(id) {
                const plano = mockPlanos.find(p => p.id === id);
                if (plano) {
                    plano.ativo = !plano.ativo;
                }
                return { data: [plano], error: null };
            }
        };

        const AnalyticsService = {
            async getStats(corretorId = null) {
                try {
                    const { data: imoveis } = await PropertyService.getAll();
                    const { data: leads } = await LeadService.getAll(corretorId);
                    
                    return {
                        total_imoveis: imoveis?.length || 0,
                        imoveis_vendidos: imoveis?.filter(i => i.status === 'vendido').length || 0,
                        total_leads: leads?.length || 0,
                        leads_convertidos: leads?.filter(l => l.status === 'convertido').length || 0,
                        visualizacoes_total: imoveis?.reduce((sum, i) => sum + (i.visualizacoes || 0), 0) || 0
                    };
                } catch (error) {
                    console.error('Erro ao buscar estatísticas:', error);
                    return { total_imoveis: 0, imoveis_vendidos: 0, total_leads: 0, leads_convertidos: 0, visualizacoes_total: 0 };
                }
            }
        };

        // Componente Principal
        const SmartImoveisPro = () => {
            const [userType, setUserType] = useState('cliente'); // master, corretor, cliente
            const [currentUser, setCurrentUser] = useState(null);
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [properties, setProperties] = useState([]);
            const [testimonials, setTestimonials] = useState([]);
            const [stats, setStats] = useState({ total: 0, vendidos: 0, leads: 0, avaliacoes: 0 });
            const [leads, setLeads] = useState([]);
            const [showModal, setShowModal] = useState(false);
            const [selectedProperty, setSelectedProperty] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [filterType, setFilterType] = useState('todos');
            const [showLeadForm, setShowLeadForm] = useState(false);
            const [showLoginForm, setShowLoginForm] = useState(false);
            const [showPropertyForm, setShowPropertyForm] = useState(false);
            const [editingProperty, setEditingProperty] = useState(null);
            const [loading, setLoading] = useState(false);
            const [notification, setNotification] = useState(null);
            const [activeTab, setActiveTab] = useState('dashboard');
            const [showCorretorForm, setShowCorretorForm] = useState(false);
            const [editingCorretor, setEditingCorretor] = useState(null);
            const [showPlanoForm, setShowPlanoForm] = useState(false);
            const [editingPlano, setEditingPlano] = useState(null);

            // Funções auxiliares
            const showNotification = (message, type = 'success') => {
                setNotification({ message, type });
                setTimeout(() => setNotification(null), 3000);
            };

            // Dados mockados para imóveis
            const mockProperties = [
                {
                    id: 1,
                    titulo: 'Apartamento Luxo Copacabana',
                    preco: 2500000,
                    tipo: 'apartamento',
                    area: 120,
                    quartos: 3,
                    banheiros: 2,
                    vagas: 2,
                    endereco: 'Copacabana, Rio de Janeiro',
                    cidade: 'Rio de Janeiro',
                    imagem: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=400',
                    corretor: 'Ana Silva',
                    corretorFoto: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100',
                    visualizacoes: 245,
                    likes: 18,
                    compartilhamentos: 5,
                    destaque: true,
                    tourVirtual: true,
                    status: 'ativo'
                },
                {
                    id: 2,
                    titulo: 'Casa Moderna Barra da Tijuca',
                    preco: 1800000,
                    tipo: 'casa',
                    area: 250,
                    quartos: 4,
                    banheiros: 3,
                    vagas: 3,
                    endereco: 'Barra da Tijuca, Rio de Janeiro',
                    cidade: 'Rio de Janeiro',
                    imagem: 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400',
                    corretor: 'Carlos Santos',
                    corretorFoto: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100',
                    visualizacoes: 189,
                    likes: 12,
                    compartilhamentos: 3,
                    destaque: false,
                    tourVirtual: true,
                    status: 'ativo'
                },
                {
                    id: 3,
                    titulo: 'Cobertura Vista Mar Ipanema',
                    preco: 4200000,
                    tipo: 'cobertura',
                    area: 180,
                    quartos: 3,
                    banheiros: 3,
                    vagas: 2,
                    endereco: 'Ipanema, Rio de Janeiro',
                    cidade: 'Rio de Janeiro',
                    imagem: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=400',
                    corretor: 'Marina Costa',
                    corretorFoto: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100',
                    visualizacoes: 312,
                    likes: 28,
                    compartilhamentos: 8,
                    destaque: true,
                    tourVirtual: true,
                    status: 'ativo'
                }
            ];



            const loadData = async () => {
                setLoading(true);
                try {
                    const { data: propertiesData } = await PropertyService.getAll();
                    const { data: leadsData } = await LeadService.getAll(currentUser?.id);
                    const statsData = await AnalyticsService.getStats(currentUser?.id);
                    
                    setProperties(propertiesData || mockProperties);
                    setLeads(leadsData || []);
                    setStats(statsData);
                } catch (error) {
                    console.error('Erro ao carregar dados:', error);
                    // Fallback para dados mockados
                    setProperties(mockProperties);
                    setTestimonials(mockTestimonials);
                    setStats({ total: 156, vendidos: 89, leads: 234, avaliacoes: 4.8 });
                }
                setLoading(false);
            };

            const handleLogin = async (email, password) => {
                setLoading(true);
                const { data, error } = await AuthService.login(email, password);
                if (error) {
                    showNotification('Erro ao fazer login: ' + error.message, 'error');
                } else {
                    setCurrentUser(data.user);
                    setIsAuthenticated(true);
                    setShowLoginForm(false);
                    
                    // Definir tipo de usuário baseado nos metadados
                    const userMetadata = data.user.user_metadata || {};
                    setUserType(userMetadata.tipo || 'corretor');
                    
                    showNotification(`Login realizado com sucesso! Bem-vindo, ${userMetadata.nome || 'Usuário'}!`);
                    loadData();
                }
                setLoading(false);
            };

            const handleLogout = async () => {
                await AuthService.logout();
                setCurrentUser(null);
                setIsAuthenticated(false);
                setUserType('cliente');
                showNotification('Logout realizado com sucesso!');
            };

            const handleCreateLead = async (leadData) => {
                setLoading(true);
                const { data, error } = await LeadService.create({
                    ...leadData,
                    imovel_id: selectedProperty?.id,
                    corretor_id: selectedProperty?.corretor_id
                });
                if (error) {
                    showNotification('Erro ao enviar interesse: ' + error.message, 'error');
                } else {
                    showNotification('Interesse enviado com sucesso!');
                    setShowLeadForm(false);
                    loadData();
                }
                setLoading(false);
            };

            // Dados mockados para leads
            const mockLeads = [
                {
                    id: 1,
                    nome: 'João Silva',
                    email: 'joao@email.com',
                    telefone: '(21) 99999-1111',
                    imovel_interesse: 'Apartamento Copacabana',
                    mensagem: 'Tenho interesse em visitar o imóvel',
                    status: 'novo',
                    created_at: '2024-01-15T10:30:00Z'
                },
                {
                    id: 2,
                    nome: 'Maria Santos',
                    email: 'maria@email.com',
                    telefone: '(21) 99999-2222',
                    imovel_interesse: 'Casa Barra da Tijuca',
                    mensagem: 'Gostaria de mais informações sobre financiamento',
                    status: 'contatado',
                    created_at: '2024-01-14T15:45:00Z'
                },
                {
                    id: 3,
                    nome: 'Pedro Costa',
                    email: 'pedro@email.com',
                    telefone: '(21) 99999-3333',
                    imovel_interesse: 'Cobertura Ipanema',
                    mensagem: 'Quando posso agendar uma visita?',
                    status: 'qualificado',
                    created_at: '2024-01-13T09:20:00Z'
                }
            ];
            
            // Dados mockados para corretores
            const mockCorretores = [
                {
                    id: 1,
                    nome: 'Ana Silva',
                    email: 'ana@imobiliaria.com',
                    telefone: '(21) 99999-4444',
                    creci: '12345-RJ',
                    orgao_emissor: 'CRECI-RJ',
                    data_emissao: '2020-01-15',
                    data_validade: '2025-01-15',
                    plano_id: 1,
                    status: 'ativo',
                    created_at: '2024-01-01T10:00:00Z'
                },
                {
                    id: 2,
                    nome: 'Carlos Santos',
                    email: 'carlos@realty.com',
                    telefone: '(21) 99999-5555',
                    creci: '67890-SP',
                    orgao_emissor: 'CRECI-SP',
                    data_emissao: '2019-06-20',
                    data_validade: '2024-06-20',
                    plano_id: 2,
                    status: 'ativo',
                    created_at: '2024-01-02T14:30:00Z'
                }
            ];
            
            // Dados mockados para planos
            const mockPlanos = [
                {
                    id: 1,
                    nome: 'Básico',
                    descricao: 'Plano ideal para corretores iniciantes',
                    preco_mensal: 99.90,
                    max_imoveis: 50,
                    max_leads: 100,
                    recursos: ['Dashboard básico', 'Gestão de leads', 'Suporte por email'],
                    ativo: true,
                    created_at: '2024-01-01T00:00:00Z'
                },
                {
                    id: 2,
                    nome: 'Profissional',
                    descricao: 'Plano completo para corretores experientes',
                    preco_mensal: 199.90,
                    max_imoveis: 200,
                    max_leads: 500,
                    recursos: ['Dashboard avançado', 'Gestão completa', 'Analytics', 'Suporte prioritário', 'API access'],
                    ativo: true,
                    created_at: '2024-01-01T00:00:00Z'
                },
                {
                    id: 3,
                    nome: 'Enterprise',
                    descricao: 'Plano para imobiliárias e grandes equipes',
                    preco_mensal: 399.90,
                    max_imoveis: -1, // ilimitado
                    max_leads: -1, // ilimitado
                    recursos: ['Recursos ilimitados', 'Multi-usuário', 'White label', 'Suporte 24/7', 'Integração personalizada'],
                    ativo: true,
                    created_at: '2024-01-01T00:00:00Z'
                }
            ];
            


            const mockTestimonials = [
                {
                    id: 1,
                    nome: 'João Pedro',
                    foto: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100',
                    avaliacao: 5,
                    comentario: 'Excelente atendimento! Encontrei minha casa dos sonhos em apenas 2 semanas.',
                    data: '2024-01-15',
                    corretor: 'Ana Silva'
                },
                {
                    id: 2,
                    nome: 'Maria Fernanda',
                    foto: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100',
                    avaliacao: 5,
                    comentario: 'Processo de compra muito transparente e profissional. Recomendo!',
                    data: '2024-01-10',
                    corretor: 'Carlos Santos'
                },
                {
                    id: 3,
                    nome: 'Roberto Lima',
                    foto: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100',
                    avaliacao: 4,
                    comentario: 'Ótima experiência, venderam meu apartamento rapidamente.',
                    data: '2024-01-08',
                    corretor: 'Marina Costa'
                }
            ];

            // Inicialização
            useEffect(() => {
                const checkAuth = async () => {
                    const user = await AuthService.getCurrentUser();
                    if (user) {
                        setCurrentUser(user);
                        setIsAuthenticated(true);
                    }
                };
                checkAuth();
                loadData();
            }, []);

            useEffect(() => {
                if (isAuthenticated) {
                    loadData();
                }
            }, [isAuthenticated, currentUser]);

            // Componente de Notificação
            const Notification = () => (
                notification && (
                    <div className={`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${
                        notification.type === 'error' ? 'bg-red-500' : 'bg-green-500'
                    } text-white`}>
                        {notification.message}
                    </div>
                )
            );

            // Componente Header
            const Header = () => (
                <header className="bg-white shadow-lg sticky top-0 z-50">
                    <div className="container mx-auto px-4 py-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center space-x-4">
                                <div className="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                                    <span className="text-white font-bold text-xl">SI</span>
                                </div>
                                <h1 className="text-2xl font-bold text-gray-800">SmartImóveis Pro</h1>
                            </div>
                            
                            {isAuthenticated && (userType === 'corretor' || userType === 'master') ? (
                                <nav className="hidden md:flex space-x-6">
                                    <button 
                                        onClick={() => setActiveTab('dashboard')}
                                        className={`px-3 py-2 rounded-lg transition-colors ${
                                            activeTab === 'dashboard' ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:text-blue-600'
                                        }`}
                                    >
                                        Dashboard
                                    </button>
                                    <button 
                                        onClick={() => setActiveTab('imoveis')}
                                        className={`px-3 py-2 rounded-lg transition-colors ${
                                            activeTab === 'imoveis' ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:text-blue-600'
                                        }`}
                                    >
                                        Imóveis
                                    </button>
                                    <button 
                                        onClick={() => setActiveTab('leads')}
                                        className={`px-3 py-2 rounded-lg transition-colors ${
                                            activeTab === 'leads' ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:text-blue-600'
                                        }`}
                                    >
                                        Leads
                                    </button>
                                    {userType === 'master' && (
                                        <button 
                                            onClick={() => setActiveTab('corretores')}
                                            className={`px-3 py-2 rounded-lg transition-colors ${
                                                activeTab === 'corretores' ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:text-blue-600'
                                            }`}
                                        >
                                            Corretores
                                        </button>
                                    )}
                                </nav>
                            ) : (
                                <nav className="hidden md:flex space-x-6">
                                    <a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">Início</a>
                                    <a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">Imóveis</a>
                                    <a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">Corretores</a>
                                    <a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">Sobre</a>
                                    <a href="#" className="text-gray-600 hover:text-blue-600 transition-colors">Contato</a>
                                </nav>
                            )}

                            <div className="flex items-center space-x-4">
                                {!isAuthenticated ? (
                                    <>
                                        <select 
                                            value={userType} 
                                            onChange={(e) => setUserType(e.target.value)}
                                            className="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        >
                                            <option value="cliente">Cliente</option>
                                            <option value="corretor">Corretor</option>
                                            <option value="master">Master</option>
                                        </select>
                                        <button 
                                            onClick={() => setShowLoginForm(true)}
                                            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                        >
                                            Login
                                        </button>
                                    </>
                                ) : (
                                    <>
                                        <span className="text-gray-600">Olá, {currentUser?.email}</span>
                                        <span className="px-2 py-1 bg-blue-100 text-blue-600 rounded-full text-sm">
                                            {userType.charAt(0).toUpperCase() + userType.slice(1)}
                                        </span>
                                        <button 
                                            onClick={handleLogout}
                                            className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
                                        >
                                            Logout
                                        </button>
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                </header>
            );

            // Componente Login Modal
            const LoginModal = () => {
                const [email, setEmail] = useState('');
                const [password, setPassword] = useState('');

                const handleSubmit = (e) => {
                    e.preventDefault();
                    handleLogin(email, password);
                };

                return showLoginForm && (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                        <div className="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
                            <h3 className="text-2xl font-bold text-gray-800 mb-6">Login</h3>
                            
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <input 
                                    type="email" 
                                    placeholder="E-mail"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    required
                                />
                                <input 
                                    type="password" 
                                    placeholder="Senha"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    required
                                />
                                
                                <div className="flex space-x-4">
                                    <button 
                                        type="button"
                                        onClick={() => setShowLoginForm(false)}
                                        className="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                    >
                                        Cancelar
                                    </button>
                                    <button 
                                        type="submit"
                                        disabled={loading}
                                        className="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
                                    >
                                        {loading ? 'Entrando...' : 'Entrar'}
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                )
            };

            // Componente Dashboard Administrativo
            const AdminDashboard = () => (
                <div className="container mx-auto px-4 py-8">
                    <div className="mb-8">
                        <h2 className="text-3xl font-bold text-gray-800 mb-2">Dashboard {userType === 'master' ? 'Master' : 'Corretor'}</h2>
                        <p className="text-gray-600">Gerencie seus imóveis e leads</p>
                    </div>

                    {/* Estatísticas */}
                    <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div className="stats-card rounded-2xl p-6 text-center">
                            <div className="text-3xl font-bold text-blue-600 mb-2">{stats.total_imoveis}</div>
                            <div className="text-gray-600">Total Imóveis</div>
                        </div>
                        <div className="stats-card rounded-2xl p-6 text-center">
                            <div className="text-3xl font-bold text-green-600 mb-2">{stats.imoveis_vendidos}</div>
                            <div className="text-gray-600">Vendidos</div>
                        </div>
                        <div className="stats-card rounded-2xl p-6 text-center">
                            <div className="text-3xl font-bold text-purple-600 mb-2">{stats.total_leads}</div>
                            <div className="text-gray-600">Total Leads</div>
                        </div>
                        <div className="stats-card rounded-2xl p-6 text-center">
                            <div className="text-3xl font-bold text-yellow-600 mb-2">{stats.leads_convertidos}</div>
                            <div className="text-gray-600">Convertidos</div>
                        </div>
                    </div>

                    {/* Ações Rápidas */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <button 
                            onClick={() => setShowPropertyForm(true)}
                            className="bg-blue-600 text-white p-6 rounded-2xl hover:bg-blue-700 transition-colors text-left"
                        >
                            <div className="text-2xl mb-2">🏠</div>
                            <div className="font-semibold">Adicionar Imóvel</div>
                            <div className="text-blue-100">Cadastre um novo imóvel</div>
                        </button>
                        <button 
                            onClick={() => setActiveTab('leads')}
                            className="bg-green-600 text-white p-6 rounded-2xl hover:bg-green-700 transition-colors text-left"
                        >
                            <div className="text-2xl mb-2">📞</div>
                            <div className="font-semibold">Gerenciar Leads</div>
                            <div className="text-green-100">Acompanhe seus leads</div>
                        </button>
                        <button 
                            onClick={() => setActiveTab('imoveis')}
                            className="bg-purple-600 text-white p-6 rounded-2xl hover:bg-purple-700 transition-colors text-left"
                        >
                            <div className="text-2xl mb-2">📊</div>
                            <div className="font-semibold">Relatórios</div>
                            <div className="text-purple-100">Visualize estatísticas</div>
                        </button>
                    </div>

                    {/* Leads Recentes */}
                    <div className="bg-white rounded-2xl shadow-lg p-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-4">Leads Recentes</h3>
                        <div className="space-y-4">
                            {leads.slice(0, 5).map(lead => (
                                <div key={lead.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                    <div>
                                        <div className="font-semibold">{lead.nome}</div>
                                        <div className="text-sm text-gray-600">{lead.email}</div>
                                        <div className="text-sm text-gray-500">{lead.telefone}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className={`px-3 py-1 rounded-full text-sm ${
                                            lead.status === 'novo' ? 'bg-blue-100 text-blue-600' :
                                            lead.status === 'contato' ? 'bg-yellow-100 text-yellow-600' :
                                            lead.status === 'convertido' ? 'bg-green-100 text-green-600' :
                                            'bg-gray-100 text-gray-600'
                                        }`}>
                                            {lead.status}
                                        </div>
                                        <div className="text-sm text-gray-500 mt-1">
                                            {new Date(lead.created_at).toLocaleDateString()}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            // Componente Gerenciamento de Leads
            const LeadsManagement = () => {
                const [filteredLeads, setFilteredLeads] = useState(leads);
                const [statusFilter, setStatusFilter] = useState('todos');
                const [searchTerm, setSearchTerm] = useState('');

                const handleStatusChange = async (leadId, newStatus) => {
                    try {
                        await LeadService.updateLead(leadId, { status: newStatus });
                        await loadData();
                        showNotification('Status do lead atualizado com sucesso!', 'success');
                    } catch (error) {
                        showNotification('Erro ao atualizar status do lead', 'error');
                    }
                };

                React.useEffect(() => {
                    let filtered = leads;
                    
                    if (statusFilter !== 'todos') {
                        filtered = filtered.filter(lead => lead.status === statusFilter);
                    }
                    
                    if (searchTerm) {
                        filtered = filtered.filter(lead => 
                            lead.nome.toLowerCase().includes(searchTerm.toLowerCase()) ||
                            lead.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
                            lead.telefone.includes(searchTerm)
                        );
                    }
                    
                    setFilteredLeads(filtered);
                }, [leads, statusFilter, searchTerm]);

                return (
                    <div className="container mx-auto px-4 py-8">
                        <div className="mb-8">
                            <h2 className="text-3xl font-bold text-gray-800 mb-2">Gerenciamento de Leads</h2>
                            <p className="text-gray-600">Acompanhe e gerencie todos os seus leads</p>
                        </div>

                        {/* Filtros */}
                        <div className="bg-white rounded-2xl shadow-lg p-6 mb-8">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <input 
                                    type="text"
                                    placeholder="Buscar por nome, email ou telefone..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                />
                                <select 
                                    value={statusFilter}
                                    onChange={(e) => setStatusFilter(e.target.value)}
                                    className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                                    <option value="todos">Todos os Status</option>
                                    <option value="novo">Novo</option>
                                    <option value="contato">Em Contato</option>
                                    <option value="convertido">Convertido</option>
                                    <option value="perdido">Perdido</option>
                                </select>
                            </div>
                        </div>

                        {/* Lista de Leads */}
                        <div className="bg-white rounded-2xl shadow-lg overflow-hidden">
                            <div className="overflow-x-auto">
                                <table className="w-full">
                                    <thead className="bg-gray-50">
                                        <tr>
                                            <th className="px-6 py-4 text-left text-sm font-semibold text-gray-600">Cliente</th>
                                            <th className="px-6 py-4 text-left text-sm font-semibold text-gray-600">Contato</th>
                                            <th className="px-6 py-4 text-left text-sm font-semibold text-gray-600">Interesse</th>
                                            <th className="px-6 py-4 text-left text-sm font-semibold text-gray-600">Status</th>
                                            <th className="px-6 py-4 text-left text-sm font-semibold text-gray-600">Data</th>
                                            <th className="px-6 py-4 text-left text-sm font-semibold text-gray-600">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-200">
                                        {filteredLeads.map(lead => (
                                            <tr key={lead.id} className="hover:bg-gray-50">
                                                <td className="px-6 py-4">
                                                    <div className="font-semibold text-gray-800">{lead.nome}</div>
                                                </td>
                                                <td className="px-6 py-4">
                                                    <div className="text-sm text-gray-600">{lead.email}</div>
                                                    <div className="text-sm text-gray-500">{lead.telefone}</div>
                                                </td>
                                                <td className="px-6 py-4">
                                                    <div className="text-sm text-gray-600">{lead.interesse || 'Não especificado'}</div>
                                                </td>
                                                <td className="px-6 py-4">
                                                    <select 
                                                        value={lead.status}
                                                        onChange={(e) => handleStatusChange(lead.id, e.target.value)}
                                                        className={`px-3 py-1 rounded-full text-sm border-0 ${
                                                            lead.status === 'novo' ? 'bg-blue-100 text-blue-600' :
                                                            lead.status === 'contato' ? 'bg-yellow-100 text-yellow-600' :
                                                            lead.status === 'convertido' ? 'bg-green-100 text-green-600' :
                                                            'bg-gray-100 text-gray-600'
                                                        }`}
                                                    >
                                                        <option value="novo">Novo</option>
                                                        <option value="contato">Em Contato</option>
                                                        <option value="convertido">Convertido</option>
                                                        <option value="perdido">Perdido</option>
                                                    </select>
                                                </td>
                                                <td className="px-6 py-4 text-sm text-gray-500">
                                                    {new Date(lead.created_at).toLocaleDateString()}
                                                </td>
                                                <td className="px-6 py-4">
                                                    <div className="flex space-x-2">
                                                        <button className="text-blue-600 hover:text-blue-800">
                                                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                                            </svg>
                                                        </button>
                                                        <button className="text-green-600 hover:text-green-800">
                                                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                );
            };

            // Componente Gerenciamento de Imóveis
            const PropertyManagement = () => {
                const [filteredProperties, setFilteredProperties] = useState(properties);
                const [typeFilter, setTypeFilter] = useState('todos');
                const [statusFilter, setStatusFilter] = useState('todos');

                const handleDeleteProperty = async (propertyId) => {
                    if (confirm('Tem certeza que deseja excluir este imóvel?')) {
                        try {
                            await PropertyService.deleteProperty(propertyId);
                            await loadData();
                            showNotification('Imóvel excluído com sucesso!', 'success');
                        } catch (error) {
                            showNotification('Erro ao excluir imóvel', 'error');
                        }
                    }
                };

                React.useEffect(() => {
                    let filtered = properties;
                    
                    if (typeFilter !== 'todos') {
                        filtered = filtered.filter(property => property.tipo === typeFilter);
                    }
                    
                    if (statusFilter !== 'todos') {
                        filtered = filtered.filter(property => property.status === statusFilter);
                    }
                    
                    setFilteredProperties(filtered);
                }, [properties, typeFilter, statusFilter]);

                return (
                    <div className="container mx-auto px-4 py-8">
                        <div className="mb-8 flex justify-between items-center">
                            <div>
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">Gerenciamento de Imóveis</h2>
                                <p className="text-gray-600">Gerencie seu portfólio de imóveis</p>
                            </div>
                            <button 
                                onClick={() => setShowPropertyForm(true)}
                                className="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                + Adicionar Imóvel
                            </button>
                        </div>

                        {/* Filtros */}
                        <div className="bg-white rounded-2xl shadow-lg p-6 mb-8">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <select 
                                    value={typeFilter}
                                    onChange={(e) => setTypeFilter(e.target.value)}
                                    className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                                    <option value="todos">Todos os Tipos</option>
                                    <option value="casa">Casa</option>
                                    <option value="apartamento">Apartamento</option>
                                    <option value="terreno">Terreno</option>
                                    <option value="comercial">Comercial</option>
                                </select>
                                <select 
                                    value={statusFilter}
                                    onChange={(e) => setStatusFilter(e.target.value)}
                                    className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                                    <option value="todos">Todos os Status</option>
                                    <option value="disponivel">Disponível</option>
                                    <option value="vendido">Vendido</option>
                                    <option value="reservado">Reservado</option>
                                </select>
                            </div>
                        </div>

                        {/* Grid de Imóveis */}
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filteredProperties.map(property => (
                                <div key={property.id} className="bg-white rounded-2xl shadow-lg overflow-hidden">
                                    <div className="relative">
                                        <img 
                                            src={property.imagem} 
                                            alt={property.titulo}
                                            className="w-full h-48 object-cover"
                                        />
                                        <div className={`absolute top-4 right-4 px-3 py-1 rounded-full text-sm font-semibold ${
                                            property.status === 'disponivel' ? 'bg-green-100 text-green-600' :
                                            property.status === 'vendido' ? 'bg-red-100 text-red-600' :
                                            'bg-yellow-100 text-yellow-600'
                                        }`}>
                                            {property.status}
                                        </div>
                                    </div>
                                    
                                    <div className="p-6">
                                        <h3 className="text-xl font-bold text-gray-800 mb-2">{property.titulo}</h3>
                                        <p className="text-gray-600 mb-4">{property.endereco}</p>
                                        
                                        <div className="flex justify-between items-center mb-4">
                                            <span className="text-2xl font-bold text-blue-600">
                                                R$ {property.preco?.toLocaleString()}
                                            </span>
                                            <span className="px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-sm">
                                                {property.tipo}
                                            </span>
                                        </div>
                                        
                                        <div className="flex justify-between items-center">
                                            <button 
                                                onClick={() => {
                                                    setEditingProperty(property);
                                                    setShowPropertyForm(true);
                                                }}
                                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                                            >
                                                Editar
                                            </button>
                                            <button 
                                                onClick={() => handleDeleteProperty(property.id)}
                                                className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
                                            >
                                                Excluir
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            // Componente Formulário de Imóvel
            const PropertyForm = () => {
                const [formData, setFormData] = useState({
                    titulo: '',
                    descricao: '',
                    preco: '',
                    endereco: '',
                    tipo: 'casa',
                    quartos: '',
                    banheiros: '',
                    area: '',
                    status: 'disponivel',
                    imagem: ''
                });

                React.useEffect(() => {
                    if (editingProperty) {
                        setFormData(editingProperty);
                    } else {
                        setFormData({
                            titulo: '',
                            descricao: '',
                            preco: '',
                            endereco: '',
                            tipo: 'casa',
                            quartos: '',
                            banheiros: '',
                            area: '',
                            status: 'disponivel',
                            imagem: ''
                        });
                    }
                }, [editingProperty]);

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    try {
                        if (editingProperty) {
                            await PropertyService.updateProperty(editingProperty.id, formData);
                            showNotification('Imóvel atualizado com sucesso!', 'success');
                        } else {
                            await PropertyService.createProperty(formData);
                            showNotification('Imóvel criado com sucesso!', 'success');
                        }
                        await loadData();
                        setShowPropertyForm(false);
                        setEditingProperty(null);
                    } catch (error) {
                        showNotification('Erro ao salvar imóvel', 'error');
                    }
                };

                const handleClose = () => {
                    setShowPropertyForm(false);
                    setEditingProperty(null);
                };

                return showPropertyForm && (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
                        <div className="bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                            <h3 className="text-2xl font-bold text-gray-800 mb-6">
                                {editingProperty ? 'Editar Imóvel' : 'Adicionar Novo Imóvel'}
                            </h3>
                            
                            <form onSubmit={handleSubmit} className="space-y-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <input 
                                        type="text" 
                                        placeholder="Título do imóvel"
                                        value={formData.titulo}
                                        onChange={(e) => setFormData({...formData, titulo: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        required
                                    />
                                    <select 
                                        value={formData.tipo}
                                        onChange={(e) => setFormData({...formData, tipo: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                        <option value="casa">Casa</option>
                                        <option value="apartamento">Apartamento</option>
                                        <option value="terreno">Terreno</option>
                                        <option value="comercial">Comercial</option>
                                    </select>
                                </div>

                                <textarea 
                                    placeholder="Descrição do imóvel"
                                    value={formData.descricao}
                                    onChange={(e) => setFormData({...formData, descricao: e.target.value})}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    rows={3}
                                    required
                                />

                                <input 
                                    type="text" 
                                    placeholder="Endereço completo"
                                    value={formData.endereco}
                                    onChange={(e) => setFormData({...formData, endereco: e.target.value})}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    required
                                />

                                <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                    <input 
                                        type="number" 
                                        placeholder="Preço"
                                        value={formData.preco}
                                        onChange={(e) => setFormData({...formData, preco: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        required
                                    />
                                    <input 
                                        type="number" 
                                        placeholder="Quartos"
                                        value={formData.quartos}
                                        onChange={(e) => setFormData({...formData, quartos: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                    <input 
                                        type="number" 
                                        placeholder="Banheiros"
                                        value={formData.banheiros}
                                        onChange={(e) => setFormData({...formData, banheiros: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                    <input 
                                        type="number" 
                                        placeholder="Área (m²)"
                                        value={formData.area}
                                        onChange={(e) => setFormData({...formData, area: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <select 
                                        value={formData.status}
                                        onChange={(e) => setFormData({...formData, status: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                        <option value="disponivel">Disponível</option>
                                        <option value="vendido">Vendido</option>
                                        <option value="reservado">Reservado</option>
                                    </select>
                                    <input 
                                        type="url" 
                                        placeholder="URL da imagem"
                                        value={formData.imagem}
                                        onChange={(e) => setFormData({...formData, imagem: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>
                                
                                <div className="flex space-x-4">
                                    <button 
                                        type="button"
                                        onClick={handleClose}
                                        className="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                    >
                                        Cancelar
                                    </button>
                                    <button 
                                        type="submit"
                                        disabled={loading}
                                        className="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
                                    >
                                        {loading ? 'Salvando...' : (editingProperty ? 'Atualizar' : 'Criar')}
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                )
            };

            // Componente para Gerenciar Corretores (Master)
            const CorretorManagement = () => {
                const [corretores, setCorretores] = React.useState(mockCorretores);
                const [showCorretorForm, setShowCorretorForm] = React.useState(false);
                const [editingCorretor, setEditingCorretor] = React.useState(null);
                const [filterStatus, setFilterStatus] = React.useState('todos');
                const [searchTerm, setSearchTerm] = React.useState('');

                const filteredCorretores = corretores.filter(corretor => {
                    const matchesStatus = filterStatus === 'todos' || corretor.status === filterStatus;
                    const matchesSearch = searchTerm === '' || 
                        corretor.nome.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        corretor.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        corretor.creci.toLowerCase().includes(searchTerm.toLowerCase());
                    return matchesStatus && matchesSearch;
                });

                const handleDeleteCorretor = async (id) => {
                    if (confirm('Tem certeza que deseja excluir este corretor?')) {
                        await CorretorService.delete(id);
                        setCorretores(corretores.filter(c => c.id !== id));
                        showNotification('Corretor excluído com sucesso!', 'success');
                    }
                };

                const handleEditCorretor = (corretor) => {
                    setEditingCorretor(corretor);
                    setShowCorretorForm(true);
                };

                return (
                    <div className="space-y-6">
                        <div className="flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-gray-800">Gerenciar Corretores</h2>
                            <button
                                onClick={() => {
                                    setEditingCorretor(null);
                                    setShowCorretorForm(true);
                                }}
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                + Novo Corretor
                            </button>
                        </div>

                        <div className="flex space-x-4 mb-6">
                            <input
                                type="text"
                                placeholder="Buscar por nome, email ou CRECI..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            />
                            <select
                                value={filterStatus}
                                onChange={(e) => setFilterStatus(e.target.value)}
                                className="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                                <option value="todos">Todos os Status</option>
                                <option value="ativo">Ativo</option>
                                <option value="inativo">Inativo</option>
                                <option value="suspenso">Suspenso</option>
                            </select>
                        </div>

                        <div className="bg-white rounded-lg shadow overflow-hidden">
                            <table className="min-w-full divide-y divide-gray-200">
                                <thead className="bg-gray-50">
                                    <tr>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Corretor</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">CRECI</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Plano</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                    </tr>
                                </thead>
                                <tbody className="bg-white divide-y divide-gray-200">
                                    {filteredCorretores.map(corretor => (
                                        <tr key={corretor.id}>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <div>
                                                    <div className="text-sm font-medium text-gray-900">{corretor.nome}</div>
                                                    <div className="text-sm text-gray-500">{corretor.email}</div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <div>
                                                    <div className="text-sm text-gray-900">{corretor.creci}</div>
                                                    <div className="text-sm text-gray-500">{corretor.orgaoEmissor}</div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                                                    {corretor.plano}
                                                </span>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                                                    corretor.status === 'ativo' ? 'bg-green-100 text-green-800' :
                                                    corretor.status === 'inativo' ? 'bg-gray-100 text-gray-800' :
                                                    'bg-red-100 text-red-800'
                                                }`}>
                                                    {corretor.status}
                                                </span>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                <button
                                                    onClick={() => handleEditCorretor(corretor)}
                                                    className="text-blue-600 hover:text-blue-900 mr-3"
                                                >
                                                    Editar
                                                </button>
                                                <button
                                                    onClick={() => handleDeleteCorretor(corretor.id)}
                                                    className="text-red-600 hover:text-red-900"
                                                >
                                                    Excluir
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                );
            };

            // Componente para Gerenciar Planos (Master)
            const PlanoManagement = () => {
                const [planos, setPlanos] = React.useState(mockPlanos);
                const [showPlanoForm, setShowPlanoForm] = React.useState(false);
                const [editingPlano, setEditingPlano] = React.useState(null);

                const handleDeletePlano = async (id) => {
                    if (confirm('Tem certeza que deseja excluir este plano?')) {
                        await PlanoService.delete(id);
                        setPlanos(planos.filter(p => p.id !== id));
                        showNotification('Plano excluído com sucesso!', 'success');
                    }
                };

                const handleEditPlano = (plano) => {
                    setEditingPlano(plano);
                    setShowPlanoForm(true);
                };

                return (
                    <div className="space-y-6">
                        <div className="flex justify-between items-center">
                            <h2 className="text-2xl font-bold text-gray-800">Gerenciar Planos</h2>
                            <button
                                onClick={() => {
                                    setEditingPlano(null);
                                    setShowPlanoForm(true);
                                }}
                                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                + Novo Plano
                            </button>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {planos.map(plano => (
                                <div key={plano.id} className="bg-white rounded-lg shadow-lg p-6">
                                    <div className="flex justify-between items-start mb-4">
                                        <h3 className="text-xl font-bold text-gray-800">{plano.nome}</h3>
                                        <span className={`px-2 py-1 text-xs font-semibold rounded-full ${
                                            plano.status === 'ativo' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'
                                        }`}>
                                            {plano.status}
                                        </span>
                                    </div>
                                    
                                    <div className="text-3xl font-bold text-blue-600 mb-4">
                                        R$ {plano.preco}
                                        <span className="text-sm text-gray-500 font-normal">/mês</span>
                                    </div>
                                    
                                    <ul className="space-y-2 mb-6">
                                        <li className="flex items-center text-sm text-gray-600">
                                            <span className="text-green-500 mr-2">✓</span>
                                            {plano.limiteImoveis} imóveis
                                        </li>
                                        <li className="flex items-center text-sm text-gray-600">
                                            <span className="text-green-500 mr-2">✓</span>
                                            {plano.limiteLeads} leads/mês
                                        </li>
                                        {plano.recursos.map((recurso, index) => (
                                            <li key={index} className="flex items-center text-sm text-gray-600">
                                                <span className="text-green-500 mr-2">✓</span>
                                                {recurso}
                                            </li>
                                        ))}
                                    </ul>
                                    
                                    <div className="flex space-x-2">
                                        <button
                                            onClick={() => handleEditPlano(plano)}
                                            className="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors"
                                        >
                                            Editar
                                        </button>
                                        <button
                                            onClick={() => handleDeletePlano(plano.id)}
                                            className="flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors"
                                        >
                                            Excluir
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            // Formulário de Corretor
            const CorretorForm = () => {
                const [formData, setFormData] = React.useState({
                    nome: '',
                    email: '',
                    senha: '',
                    creci: '',
                    orgaoEmissor: '',
                    dataEmissao: '',
                    dataValidade: '',
                    plano: '',
                    status: 'ativo'
                });
                const [loading, setLoading] = React.useState(false);

                React.useEffect(() => {
                    if (editingCorretor) {
                        setFormData({
                            ...editingCorretor,
                            senha: '' // Não preencher senha ao editar
                        });
                    } else {
                        setFormData({
                            nome: '',
                            email: '',
                            senha: '',
                            creci: '',
                            orgaoEmissor: '',
                            dataEmissao: '',
                            dataValidade: '',
                            plano: '',
                            status: 'ativo'
                        });
                    }
                }, [editingCorretor]);

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setLoading(true);

                    try {
                        if (editingCorretor) {
                            await CorretorService.update(editingCorretor.id, formData);
                            showNotification('Corretor atualizado com sucesso!', 'success');
                        } else {
                            await CorretorService.create(formData);
                            showNotification('Corretor criado com sucesso!', 'success');
                        }
                        setShowCorretorForm(false);
                        loadData();
                    } catch (error) {
                        showNotification('Erro ao salvar corretor: ' + error.message, 'error');
                    } finally {
                        setLoading(false);
                    }
                };

                const handleClose = () => {
                    setShowCorretorForm(false);
                    setEditingCorretor(null);
                };

                if (!showCorretorForm) return null;

                return (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                        <div className="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                            <h3 className="text-2xl font-bold text-gray-800 mb-6">
                                {editingCorretor ? 'Editar Corretor' : 'Novo Corretor'}
                            </h3>
                            
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <input 
                                        type="text" 
                                        placeholder="Nome completo"
                                        value={formData.nome}
                                        onChange={(e) => setFormData({...formData, nome: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                    <input 
                                        type="email" 
                                        placeholder="E-mail"
                                        value={formData.email}
                                        onChange={(e) => setFormData({...formData, email: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>

                                <input 
                                    type="password" 
                                    placeholder={editingCorretor ? "Nova senha (deixe em branco para manter)" : "Senha"}
                                    value={formData.senha}
                                    onChange={(e) => setFormData({...formData, senha: e.target.value})}
                                    required={!editingCorretor}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                />

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <input 
                                        type="text" 
                                        placeholder="CRECI"
                                        value={formData.creci}
                                        onChange={(e) => setFormData({...formData, creci: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                    <select 
                                        value={formData.orgaoEmissor}
                                        onChange={(e) => setFormData({...formData, orgaoEmissor: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                        <option value="">Órgão Emissor</option>
                                        <option value="CRECI-RJ">CRECI-RJ</option>
                                        <option value="CRECI-SP">CRECI-SP</option>
                                        <option value="CRECI-MG">CRECI-MG</option>
                                        <option value="CRECI-RS">CRECI-RS</option>
                                        <option value="CRECI-PR">CRECI-PR</option>
                                        <option value="CRECI-SC">CRECI-SC</option>
                                        <option value="CRECI-BA">CRECI-BA</option>
                                        <option value="CRECI-GO">CRECI-GO</option>
                                        <option value="CRECI-PE">CRECI-PE</option>
                                        <option value="CRECI-CE">CRECI-CE</option>
                                    </select>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Data de Emissão</label>
                                        <input 
                                            type="date" 
                                            value={formData.dataEmissao}
                                            onChange={(e) => setFormData({...formData, dataEmissao: e.target.value})}
                                            required
                                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Data de Validade</label>
                                        <input 
                                            type="date" 
                                            value={formData.dataValidade}
                                            onChange={(e) => setFormData({...formData, dataValidade: e.target.value})}
                                            required
                                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <select 
                                        value={formData.plano}
                                        onChange={(e) => setFormData({...formData, plano: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                        <option value="">Selecione o Plano</option>
                                        {mockPlanos.filter(p => p.status === 'ativo').map(plano => (
                                            <option key={plano.id} value={plano.nome}>{plano.nome}</option>
                                        ))}
                                    </select>
                                    <select 
                                        value={formData.status}
                                        onChange={(e) => setFormData({...formData, status: e.target.value})}
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                        <option value="ativo">Ativo</option>
                                        <option value="inativo">Inativo</option>
                                        <option value="suspenso">Suspenso</option>
                                    </select>
                                </div>
                                
                                <div className="flex space-x-4">
                                    <button 
                                        type="button"
                                        onClick={handleClose}
                                        className="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                    >
                                        Cancelar
                                    </button>
                                    <button 
                                        type="submit"
                                        disabled={loading}
                                        className="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
                                    >
                                        {loading ? 'Salvando...' : (editingCorretor ? 'Atualizar' : 'Criar')}
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            };

            // Formulário de Plano
            const PlanoForm = () => {
                const [formData, setFormData] = React.useState({
                    nome: '',
                    preco: '',
                    limiteImoveis: '',
                    limiteLeads: '',
                    recursos: [],
                    status: 'ativo'
                });
                const [novoRecurso, setNovoRecurso] = React.useState('');
                const [loading, setLoading] = React.useState(false);

                React.useEffect(() => {
                    if (editingPlano) {
                        setFormData(editingPlano);
                    } else {
                        setFormData({
                            nome: '',
                            preco: '',
                            limiteImoveis: '',
                            limiteLeads: '',
                            recursos: [],
                            status: 'ativo'
                        });
                    }
                }, [editingPlano]);

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setLoading(true);

                    try {
                        if (editingPlano) {
                            await PlanoService.update(editingPlano.id, formData);
                            showNotification('Plano atualizado com sucesso!', 'success');
                        } else {
                            await PlanoService.create(formData);
                            showNotification('Plano criado com sucesso!', 'success');
                        }
                        setShowPlanoForm(false);
                        loadData();
                    } catch (error) {
                        showNotification('Erro ao salvar plano: ' + error.message, 'error');
                    } finally {
                        setLoading(false);
                    }
                };

                const handleClose = () => {
                    setShowPlanoForm(false);
                    setEditingPlano(null);
                };

                const adicionarRecurso = () => {
                    if (novoRecurso.trim()) {
                        setFormData({
                            ...formData,
                            recursos: [...formData.recursos, novoRecurso.trim()]
                        });
                        setNovoRecurso('');
                    }
                };

                const removerRecurso = (index) => {
                    setFormData({
                        ...formData,
                        recursos: formData.recursos.filter((_, i) => i !== index)
                    });
                };

                if (!showPlanoForm) return null;

                return (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                        <div className="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                            <h3 className="text-2xl font-bold text-gray-800 mb-6">
                                {editingPlano ? 'Editar Plano' : 'Novo Plano'}
                            </h3>
                            
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <input 
                                        type="text" 
                                        placeholder="Nome do plano"
                                        value={formData.nome}
                                        onChange={(e) => setFormData({...formData, nome: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                    <input 
                                        type="number" 
                                        placeholder="Preço mensal"
                                        value={formData.preco}
                                        onChange={(e) => setFormData({...formData, preco: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <input 
                                        type="number" 
                                        placeholder="Limite de imóveis"
                                        value={formData.limiteImoveis}
                                        onChange={(e) => setFormData({...formData, limiteImoveis: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                    <input 
                                        type="number" 
                                        placeholder="Limite de leads/mês"
                                        value={formData.limiteLeads}
                                        onChange={(e) => setFormData({...formData, limiteLeads: e.target.value})}
                                        required
                                        className="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Recursos do Plano</label>
                                    <div className="flex space-x-2 mb-2">
                                        <input 
                                            type="text" 
                                            placeholder="Adicionar recurso"
                                            value={novoRecurso}
                                            onChange={(e) => setNovoRecurso(e.target.value)}
                                            className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                        <button 
                                            type="button"
                                            onClick={adicionarRecurso}
                                            className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
                                        >
                                            Adicionar
                                        </button>
                                    </div>
                                    <div className="space-y-2">
                                        {formData.recursos.map((recurso, index) => (
                                            <div key={index} className="flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg">
                                                <span className="text-sm">{recurso}</span>
                                                <button 
                                                    type="button"
                                                    onClick={() => removerRecurso(index)}
                                                    className="text-red-600 hover:text-red-800"
                                                >
                                                    ✕
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <select 
                                    value={formData.status}
                                    onChange={(e) => setFormData({...formData, status: e.target.value})}
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                                    <option value="ativo">Ativo</option>
                                    <option value="inativo">Inativo</option>
                                </select>
                                
                                <div className="flex space-x-4">
                                    <button 
                                        type="button"
                                        onClick={handleClose}
                                        className="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                    >
                                        Cancelar
                                    </button>
                                    <button 
                                        type="submit"
                                        disabled={loading}
                                        className="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
                                    >
                                        {loading ? 'Salvando...' : (editingPlano ? 'Atualizar' : 'Criar')}
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            };

            // Componente Hero Section
            const HeroSection = () => (
                <section className="gradient-bg text-white py-20">
                    <div className="container mx-auto px-4 text-center">
                        <h2 className="text-5xl font-bold mb-6">Encontre Seu Imóvel dos Sonhos</h2>
                        <p className="text-xl mb-8 opacity-90">A plataforma mais completa para compra, venda e locação de imóveis</p>
                        
                        <div className="max-w-4xl mx-auto bg-white/10 backdrop-blur-md rounded-2xl p-6 glass-effect">
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <select className="px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-white/50">
                                    <option>Tipo de Imóvel</option>
                                    <option>Apartamento</option>
                                    <option>Casa</option>
                                    <option>Cobertura</option>
                                </select>
                                <select className="px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-white/50">
                                    <option>Localização</option>
                                    <option>Copacabana</option>
                                    <option>Ipanema</option>
                                    <option>Barra da Tijuca</option>
                                </select>
                                <select className="px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-white/50">
                                    <option>Faixa de Preço</option>
                                    <option>Até R$ 500k</option>
                                    <option>R$ 500k - R$ 1M</option>
                                    <option>Acima de R$ 1M</option>
                                </select>
                                <button className="bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold">
                                    Buscar
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            );

            // Componente Stats
            const StatsSection = () => (
                <section className="py-16 bg-gray-50">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                            <div className="stats-card rounded-2xl p-6 text-center">
                                <div className="text-3xl font-bold text-blue-600 mb-2">{stats.total}</div>
                                <div className="text-gray-600">Imóveis Ativos</div>
                            </div>
                            <div className="stats-card rounded-2xl p-6 text-center">
                                <div className="text-3xl font-bold text-green-600 mb-2">{stats.vendidos}</div>
                                <div className="text-gray-600">Vendidos</div>
                            </div>
                            <div className="stats-card rounded-2xl p-6 text-center">
                                <div className="text-3xl font-bold text-purple-600 mb-2">{stats.leads}</div>
                                <div className="text-gray-600">Leads Gerados</div>
                            </div>
                            <div className="stats-card rounded-2xl p-6 text-center">
                                <div className="text-3xl font-bold text-yellow-600 mb-2">{stats.avaliacoes}</div>
                                <div className="text-gray-600">Avaliação Média</div>
                            </div>
                        </div>
                    </div>
                </section>
            );

            // Componente Property Card
            const PropertyCard = ({ property }) => (
                <div className="property-card bg-white rounded-2xl shadow-lg overflow-hidden">
                    <div className="relative">
                        <img 
                            src={property.imagem} 
                            alt={property.titulo}
                            className="w-full h-48 object-cover"
                        />
                        {property.destaque && (
                            <div className="absolute top-4 left-4 bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-semibold">
                                Destaque
                            </div>
                        )}
                        {property.tourVirtual && (
                            <div className="absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-semibold">
                                Tour 360°
                            </div>
                        )}
                        <div className="absolute bottom-4 right-4 flex space-x-2">
                            <button className="social-button bg-white/90 p-2 rounded-full hover:bg-white transition-colors">
                                <span className="text-red-500">❤️</span>
                            </button>
                            <button className="social-button bg-white/90 p-2 rounded-full hover:bg-white transition-colors">
                                <span className="text-blue-500">📤</span>
                            </button>
                        </div>
                    </div>
                    
                    <div className="p-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">{property.titulo}</h3>
                        <p className="text-2xl font-bold text-blue-600 mb-4">{property.preco}</p>
                        
                        <div className="grid grid-cols-3 gap-4 mb-4 text-sm text-gray-600">
                            <div className="flex items-center">
                                <span className="mr-1">🏠</span>
                                {property.area}
                            </div>
                            <div className="flex items-center">
                                <span className="mr-1">🛏️</span>
                                {property.quartos} quartos
                            </div>
                            <div className="flex items-center">
                                <span className="mr-1">🚗</span>
                                {property.vagas} vagas
                            </div>
                        </div>
                        
                        <p className="text-gray-600 mb-4">{property.endereco}</p>
                        
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-center space-x-2">
                                <img 
                                    src={property.corretorFoto} 
                                    alt={property.corretor}
                                    className="w-8 h-8 rounded-full"
                                />
                                <span className="text-sm text-gray-600">{property.corretor}</span>
                            </div>
                            <div className="flex items-center space-x-4 text-sm text-gray-500">
                                <span>👁️ {property.visualizacoes}</span>
                                <span>❤️ {property.likes}</span>
                                <span>📤 {property.compartilhamentos}</span>
                            </div>
                        </div>
                        
                        <div className="flex space-x-2">
                            <button 
                                onClick={() => setSelectedProperty(property)}
                                className="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                Ver Detalhes
                            </button>
                            <button 
                                onClick={() => setShowLeadForm(true)}
                                className="flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors"
                            >
                                Tenho Interesse
                            </button>
                        </div>
                    </div>
                </div>
            );

            // Componente Testimonials
            const TestimonialsSection = () => (
                <section className="py-16 bg-white">
                    <div className="container mx-auto px-4">
                        <h2 className="text-3xl font-bold text-center text-gray-800 mb-12">O que nossos clientes dizem</h2>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            {testimonials.map(testimonial => (
                                <div key={testimonial.id} className="testimonial-card rounded-2xl p-6">
                                    <div className="flex items-center mb-4">
                                        <img 
                                            src={testimonial.foto} 
                                            alt={testimonial.nome}
                                            className="w-12 h-12 rounded-full mr-4"
                                        />
                                        <div>
                                            <h4 className="font-semibold text-gray-800">{testimonial.nome}</h4>
                                            <div className="flex text-yellow-400">
                                                {[...Array(testimonial.avaliacao)].map((_, i) => (
                                                    <span key={i}>⭐</span>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                    <p className="text-gray-600 mb-4">"{testimonial.comentario}"</p>
                                    <div className="text-sm text-gray-500">
                                        Atendido por: {testimonial.corretor}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );

            // Componente Properties Grid
            const PropertiesGrid = () => (
                <section className="py-16 bg-gray-50">
                    <div className="container mx-auto px-4">
                        <div className="flex justify-between items-center mb-8">
                            <h2 className="text-3xl font-bold text-gray-800">Imóveis em Destaque</h2>
                            <div className="flex space-x-4">
                                <input 
                                    type="text" 
                                    placeholder="Buscar imóveis..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                />
                                <select 
                                    value={filterType}
                                    onChange={(e) => setFilterType(e.target.value)}
                                    className="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                                    <option value="todos">Todos</option>
                                    <option value="apartamento">Apartamentos</option>
                                    <option value="casa">Casas</option>
                                    <option value="cobertura">Coberturas</option>
                                </select>
                            </div>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            {properties
                                .filter(property => 
                                    (filterType === 'todos' || property.tipo === filterType) &&
                                    (searchTerm === '' || property.titulo.toLowerCase().includes(searchTerm.toLowerCase()))
                                )
                                .map(property => (
                                    <PropertyCard key={property.id} property={property} />
                                ))
                            }
                        </div>
                    </div>
                </section>
            );

            // Componente Lead Form Modal
            const LeadFormModal = () => (
                showLeadForm && (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                        <div className="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
                            <h3 className="text-2xl font-bold text-gray-800 mb-6">Demonstrar Interesse</h3>
                            
                            <form className="space-y-4">
                                <input 
                                    type="text" 
                                    placeholder="Seu nome"
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                />
                                <input 
                                    type="email" 
                                    placeholder="Seu e-mail"
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                />
                                <input 
                                    type="tel" 
                                    placeholder="Seu telefone"
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                />
                                <textarea 
                                    placeholder="Mensagem (opcional)"
                                    rows="3"
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                ></textarea>
                                
                                <div className="flex space-x-4">
                                    <button 
                                        type="button"
                                        onClick={() => setShowLeadForm(false)}
                                        className="flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors"
                                    >
                                        Cancelar
                                    </button>
                                    <button 
                                        type="submit"
                                        className="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors"
                                    >
                                        Enviar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                )
            );

            // Componente Footer
            const Footer = () => (
                <footer className="bg-gray-800 text-white py-12">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
                            <div>
                                <h3 className="text-xl font-bold mb-4">SmartImóveis Pro</h3>
                                <p className="text-gray-400">A plataforma mais completa para o mercado imobiliário.</p>
                                <div className="flex space-x-4 mt-4">
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">📘</a>
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">📷</a>
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">🐦</a>
                                    <a href="#" className="text-gray-400 hover:text-white transition-colors">💼</a>
                                </div>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Imóveis</h4>
                                <ul className="space-y-2 text-gray-400">
                                    <li><a href="#" className="hover:text-white transition-colors">Apartamentos</a></li>
                                    <li><a href="#" className="hover:text-white transition-colors">Casas</a></li>
                                    <li><a href="#" className="hover:text-white transition-colors">Coberturas</a></li>
                                    <li><a href="#" className="hover:text-white transition-colors">Comerciais</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Serviços</h4>
                                <ul className="space-y-2 text-gray-400">
                                    <li><a href="#" className="hover:text-white transition-colors">Compra</a></li>
                                    <li><a href="#" className="hover:text-white transition-colors">Venda</a></li>
                                    <li><a href="#" className="hover:text-white transition-colors">Locação</a></li>
                                    <li><a href="#" className="hover:text-white transition-colors">Avaliação</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-4">Contato</h4>
                                <ul className="space-y-2 text-gray-400">
                                    <li>📞 (21) 99999-9999</li>
                                    <li>📧 contato@smartimoveis.com</li>
                                    <li>📍 Rio de Janeiro, RJ</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div className="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                            <p>&copy; 2024 SmartImóveis Pro. Todos os direitos reservados.</p>
                        </div>
                    </div>
                </footer>
            );

            // Floating Action Button
            const FloatingActionButton = () => (
                <div className="floating-action">
                    <button 
                        onClick={() => setShowLeadForm(true)}
                        className="bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-colors"
                    >
                        💬
                    </button>
                </div>
            );

            // Renderização condicional baseada na autenticação
            if (isAuthenticated && (userType === 'corretor' || userType === 'master')) {
                return (
                    <div className="min-h-screen bg-gray-100">
                        <Header />
                        <AdminDashboard />
                        
                        {/* Navegação por abas */}
                        <div className="container mx-auto px-4 py-8">
                            <div className="bg-white rounded-lg shadow-lg">
                                <div className="border-b border-gray-200">
                                    <nav className="flex space-x-8 px-6">
                                        <button
                                            onClick={() => setActiveTab('leads')}
                                            className={`py-4 px-2 border-b-2 font-medium text-sm ${
                                                activeTab === 'leads'
                                                    ? 'border-blue-500 text-blue-600'
                                                    : 'border-transparent text-gray-500 hover:text-gray-700'
                                            }`}
                                        >
                                            Gerenciar Leads
                                        </button>
                                        <button
                                            onClick={() => setActiveTab('properties')}
                                            className={`py-4 px-2 border-b-2 font-medium text-sm ${
                                                activeTab === 'properties'
                                                    ? 'border-blue-500 text-blue-600'
                                                    : 'border-transparent text-gray-500 hover:text-gray-700'
                                            }`}
                                        >
                                            Gerenciar Imóveis
                                        </button>
                                        {userType === 'master' && (
                                            <>
                                                <button
                                                    onClick={() => setActiveTab('corretores')}
                                                    className={`py-4 px-2 border-b-2 font-medium text-sm ${
                                                        activeTab === 'corretores'
                                                            ? 'border-blue-500 text-blue-600'
                                                            : 'border-transparent text-gray-500 hover:text-gray-700'
                                                    }`}
                                                >
                                                    Gerenciar Corretores
                                                </button>
                                                <button
                                                    onClick={() => setActiveTab('planos')}
                                                    className={`py-4 px-2 border-b-2 font-medium text-sm ${
                                                        activeTab === 'planos'
                                                            ? 'border-blue-500 text-blue-600'
                                                            : 'border-transparent text-gray-500 hover:text-gray-700'
                                                    }`}
                                                >
                                                    Gerenciar Planos
                                                </button>
                                            </>
                                        )}
                                    </nav>
                                </div>
                                
                                <div className="p-6">
                                    {activeTab === 'leads' && <LeadsManagement />}
                                    {activeTab === 'properties' && <PropertyManagement />}
                                    {activeTab === 'corretores' && userType === 'master' && <CorretorManagement />}
                                    {activeTab === 'planos' && userType === 'master' && <PlanoManagement />}
                                </div>
                            </div>
                        </div>
                        
                        {/* Modais */}
                        <LoginModal />
                        <PropertyForm />
                        <CorretorForm />
                        <PlanoForm />
                        <Notification />
                    </div>
                );
            }
            
            // Interface pública para clientes
            return (
                <div className="min-h-screen">
                    <Header />
                    <HeroSection />
                    <StatsSection />
                    <PropertiesGrid />
                    <TestimonialsSection />
                    <Footer />
                    <FloatingActionButton />
                    <LeadFormModal />
                    <LoginModal />
                    <Notification />
                </div>
            );
        };

        // Renderizar o componente
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SmartImoveisPro />);
    </script>
</body>
</html>